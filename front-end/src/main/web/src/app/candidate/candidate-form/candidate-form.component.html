<div class="container">
  <form #f="ngForm" (ngSubmit)="save(f)" autocomplete="off">
    <div class="ui-g">
      <div class="ui-g-12">
        <h1>Candidatos</h1>
      </div>

      <div class="ui-g-3 ui-g-nopad">
        <p-card>
          <div style="text-align: center">
            <img width="145" height="145" class="profile-round"
                 [src]="newCandidate?.picture || '/assets/images/avatars/avatar_2x.png'"
                 alt="">
            <div>
              <button class="button-pad" label="Trocar Foto" pButton (click)="choose()"></button>
              <input accept="image/jpeg, image/png"
                     id="upload"
                     #upload
                     name="upload"
                     (change)="fileChangeEvent($event)"
                     style="display: none !important;"
                     type="file">
            </div>
          </div>
        </p-card>
      </div>
      <div class="ui-g-9">
        <div class="ui-g-12 ui-fluid">
          <label>Name
            <input [(ngModel)]="newCandidate.name" name="name" pInputText required type="text">
          </label>
        </div>

        <div class="ui-g-12 ui-md-6 ui-fluid">
          <label>Eleição</label>
          <p-dropdown name="election" [options]="elections"
                      placeholder="Selecione uma eleição" [autoWidth]="false"
                      (onChange)="setElection($event.value)"
                      required>
          </p-dropdown>
        </div>

        <div class="ui-g-12 ui-md-6 ui-fluid">
          <label>Cargo</label>
          <p-dropdown name="election" [options]="electionPositions"
                      placeholder="Selecione um cargo" [autoWidth]="false"
                      [(ngModel)]="newCandidate.electionPositionUuid"
                      required>
          </p-dropdown>
        </div>
        <div class="ui-g-8">
          <button [disabled]="f.invalid" class="button-pad" label="Salvar" pButton type="submit"></button>
          <button (click)="reset(f)" class="button-pad" label="Limpar" pButton
                  type="button"></button>
        </div>
      </div>
    </div>
  </form>
</div>
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '1px', fullScreenBackdrop: true }"></ngx-loading>
